{% extends 'core/base.html' %}
{% load static %}

{% block content %}

    <div class="user-profile">
        <!-- Header Section -->
        <header class="user-header" style="background-image: url('{% static 'images/no-pet-image.jpg' %}');">
            <div class="user-header-overlay">
                <div class="user-header-content">
                    {% if user_profile.image %}
                        <img src="{{ user_profile.image.url }}" alt="{{ user.username }}'s profile image"
                             class="user-profile-image">
                    {% else %}
                        <img src="{% static 'images/no.png' %}" alt="{{ user.username }}'s profile image"
                             class="user-profile-image">
                    {% endif %}
                    <h1 class="user-name">{% if user.userprofile.full_name %}{{ user.userprofile.full_name }}{% else %}
                        {{ user.username }}{% endif %}</h1>
                </div>
            </div>
        </header>

        <!-- Main Section -->
        <main class="user-main">
            <div class="user-container">
                <!-- Left Section: User Details -->
                <section class="user-details">
                    <h2>About {{ user.username }}</h2>
                    <p><strong>Email:</strong> {{ user.email }}</p>
                    <p><strong>Joined:</strong> {{ user.userprofile.created_at|date:"F j, Y" }}</p>
                    <p><strong>Location:</strong> {{ user.userprofile.province }}, {{ user.userprofile.city }}</p>
                </section>

                <!-- Right Section: Links and Actions -->
                <section class="user-actions">
                    <h3>Actions</h3>
                    <ul>
                        <li><a href="{% url 'profile edit view' user_profile.pk %}" class="button">Edit Profile</a></li>
                        <li><a href="#" class="button">View Activity</a></li>
                        <li>
                            <div id="delete-container">
                                <!-- Initial DELETE PROFILE link -->
                                <a href="#" id="delete-profile" class="button delete-button-danger"
                                   onclick="showOptions(event)">DELETE PROFILE</a>

                                <!-- Hidden confirmation options -->
                                <div id="confirmation-options" style="display: none;">
                                    <a href="{% url 'profile delete' pk=user_profile.pk %}" class="button button-danger">Yes,
                                        delete</a>
                                    <a href="#" class="button delete-button-success" onclick="hideOptions(event)">No,
                                        cancel</a>
                                </div>
                                <script>
                                    function showOptions(event) {
                                        event.preventDefault(); // Prevent the default link behavior

                                        // Hide the initial DELETE PROFILE link and show the confirmation options
                                        document.getElementById('delete-profile').style.display = 'none';
                                        document.getElementById('confirmation-options').style.display = 'block';
                                    }

                                    function hideOptions(event) {
                                        event.preventDefault(); // Prevent the default link behavior

                                        // Show the initial DELETE PROFILE link and hide the confirmation options
                                        document.getElementById('delete-profile').style.display = 'block';
                                        document.getElementById('confirmation-options').style.display = 'none';
                                    }

                                </script>
                            </div>
                        </li>
                    </ul>
                </section>
            </div>
        </main>
    </div>



{% endblock %}